# Модуль для получения информации об организациях

Данный проект предназначен для получения информации об организациях. Результаты данного модуля в последующем используются для привязки координат сканирований к определенному адресу организации. 

## Имеется следующий функционал:
- Подключение к базе данных
- Создание таблиц если таковых не имеется (Только для заполнения информации об организациях)
- Обращение к сервису 'API Яндекс карты' и получение информации 
- Обработка полученный данных
- Загрузка данных в базу 

## Вспомогательные модули:
  config.py - содержит конфигурации модели данных (pydantic);
  base_config.py - содержит классы для подключения к бд и заполнения таблиц;
  parse_json.py - содержит модели обработки полученных данных (pydantic);
  orm_model.py - содержит ORM схемы таблиц:
  yandex_maps.py - содержит класс для подключения к сервису 'API Яндекс карты';
  config.ini - содержать переменные для использования в коде (список организаций, полигоны, ключ)

## Для начала работы модуля необходимо создать в следующие переменны окружения
(Эти переменные необходимо хранить в файле .env в директории проекта) :
   # main database connection info
     DB_HOST=YOUR_HOST
     DB_PORT=YOUR_PORT
     DB_PASS=YOUR_PASS
     DB_USER=YOUR_USER
     DB_NAME=YOUR_NAME
     DB_SCHEMA=YOUR_SCHEMA

В файл config.ini в переменную "KEY" можно добавить свои ключи полученные в личном кабинете.

# Описание таблицы Shops:
Главная таблица с описанием организаций
- shop_id - уникальный идентификатор магазина
- coordinate - координаты магазина
- boundery - полигон
- address - адрес 
- retail_id - идентификатор (FK - shop_info)
- work_time - есть ли режим работы
- response_geocoder - ответ геокодера 
- request_shop_id - идентификатор типа запрашиваемой организации (FK - request_shops)
- work_mode_id - идентификатор режима работы (FK - operating_mode)
- OSM_ID - привязка координаты

